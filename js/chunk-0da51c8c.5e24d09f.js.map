{"version":3,"sources":["webpack:///./src/views/vision/Identity.vue?0d2c","webpack:///src/views/vision/Identity.vue","webpack:///./src/views/vision/Identity.vue?2ce2","webpack:///./src/views/vision/Identity.vue","webpack:///./src/data/random.js","webpack:///./src/views/vision/Identity.vue?3a8c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","on","$event","round","_v","_s","myRole","_e","reveal","staticRenderFns","4","5","6","7","8","9","10","name","data","seed","computed","getRoles","$route","params","player","mounted","methods","roles","component","alphabet","random","roomToSeed","roomName","result","i","length","indexOf"],"mappings":"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","file":"js/chunk-0da51c8c.5e24d09f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('md-button',{staticClass:\"md-icon-button\",staticStyle:{\"vertical-align\":\"middle\"},on:{\"click\":function($event){_vm.round -= 1}}},[_c('md-icon',{staticClass:\"md-size-2x\"},[_vm._v(\"chevron_left\")])],1),_c('span',{staticClass:\"md-title\",staticStyle:{\"vertical-align\":\"middle\"}},[_vm._v(\" Round \"+_vm._s(_vm.round)+\" \")]),_c('md-button',{staticClass:\"md-icon-button\",staticStyle:{\"vertical-align\":\"middle\"},on:{\"click\":function($event){_vm.round += 1}}},[_c('md-icon',{staticClass:\"md-size-2x\"},[_vm._v(\"chevron_right\")])],1)],1),_c('div',[(_vm.reveal)?_c('md-icon',{staticClass:\"md-size-10x\"},[_vm._v(\" \"+_vm._s([\"brightness_high\", \"brightness_medium\", \"brightness_low\"][_vm.myRole])+\" \")]):_vm._e(),(!_vm.reveal)?_c('md-icon',{staticClass:\"md-size-10x\"},[_vm._v(\" security \")]):_vm._e(),_c('br'),(_vm.reveal)?_c('span',{staticClass:\"md-title\"},[_vm._v(\" You are \"+_vm._s([\"bad\", \"neutral\", \"good\"][_vm.myRole])+\" \")]):_vm._e(),(!_vm.reveal)?_c('span',{staticClass:\"md-title\"},[_vm._v(\" Touch to reveal \")]):_vm._e(),_c('br'),_c('md-button',{on:{\"touchstart\":function($event){_vm.reveal = true},\"touchend\":function($event){_vm.reveal = false}}},[_c('md-icon',{staticClass:\"md-size-2x\"},[_vm._v(\"visibility\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div>\n      <md-button\n        @click=\"round -= 1\"\n        class=\"md-icon-button\"\n        style=\"vertical-align: middle\"\n      >\n        <md-icon class=\"md-size-2x\">chevron_left</md-icon>\n      </md-button>\n      <span class=\"md-title\" style=\"vertical-align: middle\">\n        Round {{ round }}\n      </span>\n      <md-button\n        @click=\"round += 1\"\n        class=\"md-icon-button\"\n        style=\"vertical-align: middle\"\n      >\n        <md-icon class=\"md-size-2x\">chevron_right</md-icon>\n      </md-button>\n    </div>\n    <div>\n      <md-icon v-if=\"reveal\" class=\"md-size-10x\">\n        {{ [\"brightness_high\", \"brightness_medium\", \"brightness_low\"][myRole] }}\n      </md-icon>\n      <md-icon v-if=\"!reveal\" class=\"md-size-10x\">\n        security\n      </md-icon>\n      <br />\n      <span v-if=\"reveal\" class=\"md-title\">\n        You are {{ [\"bad\", \"neutral\", \"good\"][myRole] }}\n      </span>\n      <span v-if=\"!reveal\" class=\"md-title\">\n        Touch to reveal\n      </span>\n      <br />\n      <md-button @touchstart=\"reveal = true\" @touchend=\"reveal = false\">\n        <md-icon class=\"md-size-2x\">visibility</md-icon>\n      </md-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { random, roomToSeed } from \"@/data/random.js\";\nconst rules = {\n  // num_players: [good, bad, neutral]\n  4: [1, 1, 2],\n  5: [2, 1, 2],\n  6: [3, 2, 1],\n  7: [3, 2, 2],\n  8: [4, 3, 1],\n  9: [4, 3, 2],\n  10: [5, 4, 1]\n};\nexport default {\n  name: \"visionIdentity\",\n  data() {\n    return {\n      seed: 0,\n      round: 1,\n      reveal: false\n    };\n  },\n  computed: {\n    myRole() {\n      return 1 + this.getRoles(this.round)[this.$route.params.player];\n    }\n  },\n  mounted() {\n    this.seed = roomToSeed(this.$route.params.room);\n  },\n  methods: {\n    getRoles(round) {\n      let seed = this.seed;\n      let number = +this.$route.params.number;\n      let roles = [];\n      for (let i = 0; i < rules[number][0]; i++) roles.push(1);\n      for (let i = 0; i < rules[number][1]; i++) roles.push(-1);\n      for (let i = 0; i < rules[number][2]; i++) roles.push(0);\n      for (let i = 0; i < number; i++) seed = random(seed + number);\n      for (let i = 0; i < round; i++) seed = random(seed + round);\n\n      for (let i = 0; i < number; i++) {\n        seed = random(seed + round);\n        let toPlace = i + (seed % (number - i));\n        [roles[i], roles[toPlace]] = [roles[toPlace], roles[i]];\n      }\n      return roles;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.md-icon.md-size-10x {\n  width: 300px;\n  height: 300px;\n  font-size: 300px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Identity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Identity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Identity.vue?vue&type=template&id=f1944360&\"\nimport script from \"./Identity.vue?vue&type=script&lang=js&\"\nexport * from \"./Identity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Identity.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const alphabet =\n  \"abcdefghijklmnopqrstuvwxyz\" + \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\" + \"0123456789\";\n\nfunction random(seed) {\n  // Robert Jenkinsâ€™ 32 bit integer hash function\n  seed = (seed + 0x7ed55d16 + (seed << 12)) & 0xffffffff;\n  seed = (seed ^ 0xc761c23c ^ (seed >>> 19)) & 0xffffffff;\n  seed = (seed + 0x165667b1 + (seed << 5)) & 0xffffffff;\n  seed = ((seed + 0xd3a2646c) ^ (seed << 9)) & 0xffffffff;\n  seed = (seed + 0xfd7046c5 + (seed << 3)) & 0xffffffff;\n  seed = (seed ^ 0xb55a4f09 ^ (seed >>> 16)) & 0xffffffff;\n  return seed & 0xfffffff;\n}\n\nfunction roomToSeed(roomName) {\n  let result = 0;\n  for (let i = 0; i < roomName.length; i++) {\n    result *= alphabet.length;\n    result += alphabet.indexOf(roomName[i]);\n  }\n  return result;\n}\n\nexport { alphabet, random, roomToSeed };\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Identity.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Identity.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}