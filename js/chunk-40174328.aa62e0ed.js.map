{"version":3,"sources":["webpack:///./src/data/random.js","webpack:///./src/views/vision/Home.vue?bd8f","webpack:///src/views/vision/Home.vue","webpack:///./src/views/vision/Home.vue?98a8","webpack:///./src/views/vision/Home.vue"],"names":["alphabet","random","seed","roomToSeed","roomName","result","i","length","indexOf","render","_vm","this","_h","$createElement","_c","_self","attrs","currentStep","on","$event","staticClass","_l","name","key","selected","room","_v","_s","num","number","player","stepsCompleted","params","staticRenderFns","data","now","watch","handler","deep","computed","roomNames","push","genRoomName","frequency","playerNumbers","mounted","Math","floor","Date","$route","redo","router","methods","component"],"mappings":"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","file":"js/chunk-40174328.aa62e0ed.js","sourcesContent":["const alphabet =\n  \"abcdefghijklmnopqrstuvwxyz\" + \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\" + \"0123456789\";\n\nfunction random(seed) {\n  // Robert Jenkinsâ€™ 32 bit integer hash function\n  seed = (seed + 0x7ed55d16 + (seed << 12)) & 0xffffffff;\n  seed = (seed ^ 0xc761c23c ^ (seed >>> 19)) & 0xffffffff;\n  seed = (seed + 0x165667b1 + (seed << 5)) & 0xffffffff;\n  seed = ((seed + 0xd3a2646c) ^ (seed << 9)) & 0xffffffff;\n  seed = (seed + 0xfd7046c5 + (seed << 3)) & 0xffffffff;\n  seed = (seed ^ 0xb55a4f09 ^ (seed >>> 16)) & 0xffffffff;\n  return seed & 0xfffffff;\n}\n\nfunction roomToSeed(roomName) {\n  let result = 0;\n  for (let i = 0; i < roomName.length; i++) {\n    result *= alphabet.length;\n    result += alphabet.indexOf(roomName[i]);\n  }\n  return result;\n}\n\nexport { alphabet, random, roomToSeed };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('md-steppers',{attrs:{\"md-vertical\":\"\",\"md-active-step\":_vm.currentStep},on:{\"update:mdActiveStep\":function($event){_vm.currentStep=$event},\"update:md-active-step\":function($event){_vm.currentStep=$event}}},[_c('md-step',{attrs:{\"id\":\"roomStep\",\"md-label\":\"Join a room\"}},[_c('div',{staticClass:\"md-layout\"},_vm._l((_vm.roomNames),function(name){return _c('HalfButton',{key:name,attrs:{\"primary\":_vm.selected.room == name,\"extraStyle\":{\n            'text-transform': 'none',\n            'font-family': 'monospace'\n          }},on:{\"click\":function($event){_vm.selected.room = name;\n            _vm.currentStep = 'numberStep';}}},[_vm._v(\" \"+_vm._s(name)+\" \")])}),1)]),_c('md-step',{attrs:{\"id\":\"numberStep\",\"md-label\":\"Number of players\"}},[_c('div',{staticClass:\"md-layout\"},_vm._l(([3, 4, 5, 6, 7, 8]),function(num){return _c('HalfButton',{key:num,attrs:{\"primary\":_vm.selected.number == num},on:{\"click\":function($event){_vm.selected.number = num;\n            _vm.currentStep = 'playerStep';}}},[_vm._v(\" \"+_vm._s(num)+\" \")])}),1)]),_c('md-step',{attrs:{\"id\":\"playerStep\",\"md-label\":\"Your player number\"}},[_c('div',{staticClass:\"md-layout\"},_vm._l((_vm.playerNumbers),function(num){return _c('HalfButton',{key:num,attrs:{\"primary\":_vm.selected.player == num},on:{\"click\":function($event){_vm.selected.player = num}}},[_vm._v(\" \"+_vm._s(num + 1)+\" \")])}),1),_c('HalfButton',{attrs:{\"primary\":true,\"disabled\":!_vm.stepsCompleted,\"to\":{ name: 'visionIdentity', params: _vm.selected }}},[_vm._v(\" Play now \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <md-steppers md-vertical :md-active-step.sync=\"currentStep\">\n      <md-step id=\"roomStep\" md-label=\"Join a room\">\n        <div class=\"md-layout\">\n          <HalfButton\n            :key=\"name\"\n            v-for=\"name in roomNames\"\n            :primary=\"selected.room == name\"\n            @click=\"\n              selected.room = name;\n              currentStep = 'numberStep';\n            \"\n            :extraStyle=\"{\n              'text-transform': 'none',\n              'font-family': 'monospace'\n            }\"\n          >\n            {{ name }}\n          </HalfButton>\n        </div>\n      </md-step>\n      <md-step id=\"numberStep\" md-label=\"Number of players\">\n        <div class=\"md-layout\">\n          <HalfButton\n            :key=\"num\"\n            v-for=\"num in [3, 4, 5, 6, 7, 8]\"\n            :primary=\"selected.number == num\"\n            @click=\"\n              selected.number = num;\n              currentStep = 'playerStep';\n            \"\n          >\n            {{ num }}\n          </HalfButton>\n        </div>\n      </md-step>\n      <md-step id=\"playerStep\" md-label=\"Your player number\">\n        <div class=\"md-layout\">\n          <HalfButton\n            :key=\"num\"\n            v-for=\"num in playerNumbers\"\n            :primary=\"selected.player == num\"\n            @click=\"selected.player = num\"\n          >\n            {{ num + 1 }}\n          </HalfButton>\n        </div>\n        <HalfButton\n          :primary=\"true\"\n          :disabled=\"!stepsCompleted\"\n          :to=\"{ name: 'visionIdentity', params: selected }\"\n        >\n          Play now\n        </HalfButton>\n      </md-step>\n    </md-steppers>\n  </div>\n</template>\n\n<script>\nimport router from \"@/router.js\";\nimport { saveLocal, loadLocal } from \"@/data/storage.js\";\nimport { alphabet, random } from \"@/data/random.js\";\nconst frequency = 300000;\nexport default {\n  name: \"visionHome\",\n  data() {\n    return {\n      now: 0,\n      selected: { room: \"\", number: 0, player: -1 },\n      currentStep: \"roomStep\"\n    };\n  },\n  watch: {\n    selected: {\n      handler: function() {\n        saveLocal(\"vision\", this.selected);\n      },\n      deep: true\n    }\n  },\n  computed: {\n    roomNames() {\n      let result = [];\n      for (let i = -2; i < 3; i++) {\n        result.push(this.genRoomName(this.now + frequency * i));\n      }\n      return result;\n    },\n    playerNumbers() {\n      let result = [];\n      for (let i = 0; i < this.selected.number; i++) {\n        result.push(i);\n      }\n      return result;\n    },\n    stepsCompleted() {\n      return (\n        this.selected.room.length == 4 &&\n        this.selected.number > 0 &&\n        this.selected.player >= 0 &&\n        this.selected.player < this.selected.number\n      );\n    }\n  },\n  mounted() {\n    this.now = 2 * Math.floor((new Date() - 0) / frequency / 2);\n    this.selected = loadLocal(\"vision\", this.selected);\n    if (!this.$route.params.redo && this.stepsCompleted) {\n      router.push({\n        name: \"visionIdentity\",\n        params: this.selected\n      });\n    }\n  },\n  methods: {\n    genRoomName(num) {\n      let seed = this.now + num * frequency;\n      let result = \"\";\n      for (let i = 0; i < 4; i++) {\n        seed = random(seed);\n        result += alphabet[seed % alphabet.length];\n      }\n      return result;\n    }\n  }\n};\n</script>\n<style lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=65aa522c&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}